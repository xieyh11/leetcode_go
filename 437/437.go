package main

import (
	"../common"
	"fmt"
)

type TreeNode = common.TreeNode

func recSol(root *TreeNode, sum int) int {
	res := 0
	if root.Left != nil {
		res += recSol(root.Left, sum-root.Val)
	}
	if root.Right != nil {
		res += recSol(root.Right, sum-root.Val)
	}
	if sum == root.Val {
		res++
	}
	return res
}

func pathSum(root *TreeNode, sum int) int {
	res := 0
	if root == nil {
		return 0
	}
	if root.Left != nil {
		res += pathSum(root.Left, sum)
		res += recSol(root.Left, sum-root.Val)
	}
	if root.Right != nil {
		res += pathSum(root.Right, sum)
		res += recSol(root.Right, sum-root.Val)
	}
	if sum == root.Val {
		res++
	}
	return res
}

func main() {
	t := []string{"10", "5", "-3", "3", "2", "null", "11", "3", "-2", "null", "1"}
	root := common.ConstructTree(t)
	sum := 8
	fmt.Println(pathSum(root, sum))

	t = []string{"4859", "-1399", "null", "null", "5139", "6850", "null", "null", "1191", "-6043", "null", "null", "-942", "-7852", "null", "null", "724", "1326", "null", "null", "1606", "9721", "null", "null", "6997", "4198", "null", "null", "2980", "5884", "null", "null", "6856", "-1995", "null", "null", "-6341", "-4562", "null", "null", "8314", "-8892", "null", "null", "9124", "7365", "null", "null", "-9939", "6047", "null", "null", "3373", "-7033", "null", "null", "-635", "7132", "null", "null", "-620", "-6679", "null", "null", "-1841", "-9474", "null", "null", "-3756", "2264", "null", "null", "-5106", "6410", "null", "null", "-8527", "-90", "null", "null", "8070", "-6695", "null", "null", "7263", "-4047", "null", "null", "2508", "-1567", "null", "null", "7637", "8969", "null", "null", "4891", "-6539", "null", "null", "-3838", "2601", "null", "null", "-114", "-6357", "null", "null", "-9078", "2782", "null", "null", "-7858", "2588", "null", "null", "-9006", "6739", "null", "null", "1931", "-7038", "null", "null", "-4256", "3353", "null", "null", "6915", "7548", "null", "null", "-7343", "5168", "null", "null", "2844", "-4591", "null", "null", "1489", "6852", "null", "null", "1335", "9084", "null", "null", "-9490", "-5068", "null", "null", "2027", "3280", "null", "null", "-2010", "3061", "null", "null", "-8359", "-7726", "null", "null", "-6557", "3327", "null", "null", "-4978", "-9920", "null", "null", "-326", "-8449", "null", "null", "5530", "-2648", "null", "null", "3041", "-1462", "null", "null", "2985", "3190", "null", "null", "-4925", "-4420", "null", "null", "-9146", "1984", "null", "null", "-3740", "-5982", "null", "null", "-2751", "6708", "null", "null", "-4812", "-7927", "null", "null", "7546", "-4628", "null", "null", "736", "-2522", "null", "null", "5629", "7012", "null", "null", "9403", "-4336", "null", "null", "6642", "-9848", "null", "null", "2810", "-3825", "null", "null", "-1546", "-1440", "null", "null", "988", "6032", "null", "null", "2531", "8714", "null", "null", "-6253", "-5135", "null", "null", "-6765", "9560", "null", "null", "-5112", "3709", "null", "null", "-3980", "378", "null", "null", "3786", "-7653", "null", "null", "-1747", "-8415", "null", "null", "7566", "-5265", "null", "null", "-7563", "7501", "null", "null", "-4573", "-291", "null", "null", "577", "7170", "null", "null", "218", "6582", "null", "null", "3923", "173", "null", "null", "-3000", "2178", "null", "null", "2983", "-7282", "null", "null", "8578", "-8924", "null", "null", "1455", "4306", "null", "null", "-3577", "2928", "null", "null", "9201", "1224", "null", "null", "9022", "7492", "null", "null", "-8528", "342", "null", "null", "-6302", "-5409", "null", "null", "-3060", "-5804", "null", "null", "-5296", "5488", "null", "null", "-315", "3763", "null", "null", "2835", "-8900", "null", "null", "5751", "-3739", "null", "null", "-9172", "4478", "null", "null", "-8575", "4208", "null", "null", "5692", "-6637", "null", "null", "-8811", "-2653", "null", "null", "9002", "7221", "null", "null", "-3686", "-6090", "null", "null", "-1549", "8147", "null", "null", "-2253", "4982", "null", "null", "9025", "4181", "null", "null", "5316", "-1821", "null", "null", "9093", "-3149", "null", "null", "6506", "-2670", "null", "null", "3036", "-6349", "null", "null", "1238", "7143", "null", "null", "-9767", "-8898", "null", "null", "6990", "6842", "null", "null", "3849", "-1705", "null", "null", "-1038", "-5251", "null", "null", "4083", "-1844", "null", "null", "-2054", "-3782", "null", "null", "-5554", "4905", "null", "null", "-5950", "-910", "null", "null", "-16", "516", "null", "null", "8921", "8916", "null", "null", "6029", "-2139", "null", "null", "5472", "5852", "null", "null", "8745", "4823", "null", "null", "-1598", "-1644", "null", "null", "4409", "8523", "null", "null", "-8875", "7507", "null", "null", "2036", "9318", "null", "null", "626", "-4787", "null", "null", "9319", "8222", "null", "null", "-2736", "5503", "null", "null", "-5885", "-209", "null", "null", "4701", "-5381", "null", "null", "-5532", "-6268", "null", "null", "-1230", "-9540", "null", "null", "-6295", "-7518", "null", "null", "-2207", "-6378", "null", "null", "4541", "-1733", "null", "null", "2579", "428", "null", "null", "2611", "-6438", "null", "null", "1547", "6129", "null", "null", "1479", "590", "null", "null", "8059", "-9034", "null", "null", "-2915", "2950", "null", "null", "9253", "-7912", "null", "null", "3114", "2894", "null", "null", "1046", "844", "null", "null", "-9930", "-9674", "null", "null", "5849", "3538", "null", "null", "3021", "38", "null", "null", "3255", "-1114", "null", "null", "5593", "-4956", "null", "null", "-2972", "5217", "null", "null", "9604", "-7800", "null", "null", "2294", "1589", "null", "null", "-6044", "8012", "null", "null", "5188", "-7320", "null", "null", "-6862", "-1044", "null", "null", "-4614", "-8286", "null", "null", "-5924", "-7220", "null", "null", "4501", "-8504", "null", "null", "-248", "1882", "null", "null", "-5359", "-9945", "null", "null", "408", "-3364", "null", "null", "2404", "2237", "null", "null", "-3580", "6853", "null", "null", "5105", "-583", "null", "null", "-9091", "-4788", "null", "null", "-4107", "6918", "null", "null", "1729", "5199", "null", "null", "9328", "6614", "null", "null", "9921", "8465", "null", "null", "1374", "3756", "null", "null", "9214", "7675", "null", "null", "-193", "-9617", "null", "null", "6506", "-3779", "null", "null", "-7659", "6986", "null", "null", "4790", "-828", "null", "null", "589", "4609", "null", "null", "-8021", "-4560", "null", "null", "-5651", "7596", "null", "null", "-9739", "-9576", "null", "null", "3948", "7626", "null", "null", "5238", "-9656", "null", "null", "2450", "8818", "null", "null", "6021", "-1830", "null", "null", "1930", "-3390", "null", "null", "5472", "8831", "null", "null", "6053", "-7496", "null", "null", "-7659", "3884", "null", "null", "-8485", "-2880", "null", "null", "5120", "9113", "null", "null", "7046", "-5059", "null", "null", "4095", "-7167", "null", "null", "4682", "4838", "null", "null", "-4604", "-7436", "null", "null", "-8732", "7584", "null", "null", "-1307", "-4475", "null", "null", "3267", "-5759", "null", "null", "6380", "-7916", "null", "null", "-2680", "120", "null", "null", "-6778", "21", "null", "null", "-3317", "1137", "null", "null", "-8885", "7695", "null", "null", "-9618", "-954", "null", "null", "7971", "5006", "null", "null", "1913", "-1257", "null", "null", "8275", "-4781", "null", "null", "7482", "7076", "null", "null", "8059", "-802", "null", "null", "-1124", "-9029", "null", "null", "3983", "2721", "null", "null", "-395", "-8877", "null", "null", "-279", "4552", "null", "null", "-7858", "8194", "null", "null", "5803", "8183", "null", "null", "7232", "784", "null", "null", "-7564", "3336", "null", "null", "4553", "798", "null", "null", "-5403", "6179", "null", "null", "2844", "-2711", "null", "null", "-1374", "-8096", "null", "null", "1499", "-1482", "null", "null", "-1796", "5185", "null", "null", "-4507", "-8622", "null", "null", "2360", "5753", "null", "null", "-8727", "-9007", "null", "null", "1959", "5515", "null", "null", "2179", "2934", "null", "null", "8144", "9427", "null", "null", "-6074", "4868", "null", "null", "6032", "-7721", "null", "null", "7734", "-5713", "null", "null", "3153", "-3801", "null", "null", "-3130", "-1385", "null", "null", "-9099", "-597", "null", "null", "2582", "-4126", "null", "null", "7703", "-2003", "null", "null", "-8755", "-8148", "null", "null", "5194", "-7582", "null", "null", "8985", "-2187", "null", "null", "3688", "-2645", "null", "null", "-3979", "2219", "null", "null", "7061", "578", "null", "null", "-7505", "7985", "null", "null", "-778", "7905", "null", "null", "-6925", "-8274", "null", "null", "-5134", "8631", "null", "null", "2363", "-8188", "null", "null", "343", "7698", "null", "null", "8944", "-1182", "null", "null", "3503", "263", "null", "null", "9165", "-856", "null", "null", "4415", "-1373", "null", "null", "-842", "-3767", "null", "null", "8737", "4133", "null", "null", "4761", "-8344", "null", "null", "3695", "7489", "null", "null", "2315", "-957", "null", "null", "-4558", "6894", "null", "null", "-9397", "6345", "null", "null", "-9323", "-8937", "null", "null", "386", "-2403", "null", "null", "-2846", "9041", "null", "null", "-6354", "-9217", "null", "null", "-5850", "1660", "null", "null", "-2817", "-4899", "null", "null", "-9535", "1401", "null", "null", "602", "-9482", "null", "null", "7805", "5330", "null", "null", "-2186", "-9575", "null", "null", "-5412", "-7564", "null", "null", "3133", "1033", "null", "null", "-1459", "-5927", "null", "null", "-8872", "-447", "null", "null", "7438", "-7571", "null", "null", "-5561", "8503", "null", "null", "6751", "6413", "null", "null", "5496", "-5829", "null", "null", "1108", "-3811", "null", "null", "-6236", "-6199", "null", "null", "-5762", "-768", "null", "null", "-1846", "9582", "null", "null", "-3864", "4029", "null", "null", "1575", "-3573", "null", "null", "1417", "9825", "null", "null", "-3230", "-9177", "null", "null", "8862", "3001", "null", "null", "7890", "-7126", "null", "null", "-4858", "1452", "null", "null", "4541", "1042", "null", "null", "-9450", "7015", "null", "null", "8776", "4758", "null", "null", "-8924", "-5597", "null", "null", "691", "5294", "null", "null", "2025", "5010", "null", "null", "-1091", "4563", "null", "null", "-686", "-5447", "null", "null", "2300", "-2070", "null", "null", "2994", "-2422", "null", "null", "-3335", "7596", "null", "null", "6579", "-5001", "null", "null", "-9574", "-3460", "null", "null", "2682", "1608", "null", "null", "-5185", "-564", "null", "null", "225", "-7164", "null", "null", "1030", "2556", "null", "null", "5979", "549", "null", "null", "4039", "-8680", "null", "null", "1881", "9990", "null", "null", "-3895", "9949", "null", "null", "7675", "-8194", "null", "null", "6453", "-9914", "null", "null", "2086", "-489", "null", "null", "-2058", "7130", "null", "null", "-3585", "7153", "null", "null", "5734", "3491", "null", "null", "-7204", "-761", "null", "null", "-9550", "876", "null", "null", "-906", "7055", "null", "null", "2943", "-3466", "null", "null", "-1428", "2412", "null", "null", "3133", "-4417", "null", "null", "2681", "5205", "null", "null", "3516", "-3901", "null", "null", "455", "-150", "null", "null", "5217", "-2463", "null", "null", "-1845", "4276", "null", "null", "-240", "-529", "null", "null", "5161", "-2614", "null", "null", "-3312", "-5495", "null", "null", "-6741", "5472", "null", "null", "-8388", "-3517", "null", "null", "-3055", "-757", "null", "null", "3588", "-5190", "null", "null", "-6995", "-1214", "null", "null", "-5817", "1292", "null", "null", "9136", "-7458", "null", "null", "-2177", "4377", "null", "null", "-3975", "-1085", "null", "null", "5887", "-1088", "null", "null", "6599", "5412", "null", "null", "89", "-3491", "null", "null", "7829", "2661", "null", "null", "2627", "1388", "null", "null", "7023", "1727", "null", "null", "-5758", "-4819", "null", "null", "718", "-9660", "null", "null", "-4361", "-3545", "null", "null", "462", "-2589", "null", "null", "-6835", "896", "null", "null", "-269", "-6543", "null", "null", "6005", "1774", "null", "null", "4713", "-1976", "null", "null", "-2330", "5634", "null", "null", "-5769", "-4462", "null", "null", "1397", "3763", "null", "null", "9320", "-4837", "null", "null", "1663", "-3367", "null", "null", "3252", "871", "null", "null", "2530", "-6986", "null", "null", "8093", "-5213", "null", "null", "-6953", "9599", "null", "null", "-4582", "-5231", "null", "null", "-1483", "-1724", "null", "null", "-4362", "3117", "null", "null", "3529", "-2067", "null", "null", "-2058", "-6270", "null", "null", "7041", "9937", "null", "null", "7235", "-5228", "null", "null", "2272", "-6717", "null", "null", "-8006", "708", "null", "null", "6744", "-8983", "null", "null", "9377", "-7812", "null", "null", "1560", "6528", "null", "null", "-207", "-5086", "null", "null", "-5557", "-8176", "null", "null", "7044", "-3805", "null", "null", "-2399", "552", "null", "null", "-9469", "-8864", "null", "null", "811", "807", "null", "null", "2011", "1012", "null", "null", "9003", "-1370", "null", "null", "-6700", "-1998", "null", "null", "-4629", "-5798", "null", "null", "2459", "2929", "null", "null", "8886", "-347", "null", "null", "-7301", "-2935", "null", "null", "-9153", "-8024", "null", "null", "6254", "-2762", "null", "null", "-1653", "2656", "null", "null", "9924", "6968", "null", "null", "2323", "-137", "null", "null", "5453", "-9221", "null", "null", "6667", "2913", "null", "null", "5699", "8584", "null", "null", "-1240", "4891", "null", "null", "-6266", "369", "null", "null", "8144", "2796", "null", "null", "8668", "6024", "null", "null", "7903", "403", "null", "null", "-8019", "6672", "null", "null", "-2888", "-4327", "null", "null", "-1549", "2947", "null", "null", "-5307", "-6946", "null", "null", "1941", "5194", "null", "null", "2799", "6922", "null", "null", "72", "-5288", "null", "null", "3282", "-1017", "null", "null", "-8423", "9241", "null", "null", "3126", "-6152", "null", "null", "-3000", "4557", "null", "null", "615", "-8256", "null", "null", "367", "-376", "null", "null", "9672", "92", "null", "null", "-4944", "-7889", "null", "null", "-3332", "-8317", "null", "null", "-9127", "-8750", "null", "null", "1399", "-291", "null", "null", "6843", "-6689", "null", "null", "-2541", "1076", "null", "null", "-1300", "2970", "null", "null", "6239", "-1365", "null", "null", "6351", "7559", "null", "null", "-7216", "2362", "null", "null", "-7178", "7254", "null", "null", "-7768", "7253", "null", "null", "7916", "-4485", "null", "null", "-4526", "-8756", "null", "null", "-5287", "-9269", "null", "null", "-4608", "190", "null", "null", "-131", "4998", "null", "null", "-2781", "-8585", "null", "null", "8864", "-4891", "null", "null", "-2340", "8553", "null", "null", "-5170", "-4547", "null", "null", "1679", "-3779", "null", "null", "-2032", "8103", "null", "null", "-6832", "6158", "null", "null", "-7559", "-9632", "null", "null", "4153", "-787", "null", "null", "437", "567", "null", "null", "-6950", "-229", "null", "null", "6082", "8524", "null", "null", "-3446", "-401", "null", "null", "-8033", "6835", "null", "null", "-7705", "-4699", "null", "null", "3581", "-8773", "null", "null", "4298", "-7403", "null", "null", "-9076", "-1999", "null", "null", "8039", "7151", "null", "null", "-1403", "-446", "null", "null", "-1681", "-2379", "null", "null", "5101", "-9001", "null", "null", "6528", "-6053", "null", "null", "8159", "3999", "null", "null", "3114", "2561", "null", "null", "395", "-6609", "null", "null", "6688", "7874", "null", "null", "4278", "-2926", "null", "null", "-3321", "8133", "null", "null", "9444", "-4888", "null", "null", "1009", "1982", "null", "null", "-3360", "9525", "null", "null", "6056", "-1660", "null", "null", "-3765", "-2829", "null", "null", "-9784", "-4923", "null", "null", "5933", "-1761", "null", "null", "7016", "-7731", "null", "null", "671", "6126", "null", "null", "2591", "7055", "null", "null", "-1415", "-3340", "null", "null", "-3634", "9010", "null", "null", "131", "3782", "null", "null", "4141", "-6033", "null", "null", "-6048", "7169", "null", "null", "-4336", "6673", "null", "null", "-8970", "-1836", "null", "null", "5831", "9926", "null", "null", "3083", "4620", "null", "null", "-8490", "-870", "null", "null", "8855", "-6340", "null", "null", "-4542", "532", "null", "null", "-3670", "-3576", "null", "null", "-909", "9639", "null", "null", "-2015", "4782", "null", "null", "3716", "5586", "null", "null", "7377", "-5809", "null", "null", "-6412", "-6061", "null", "null", "-4673", "-1351", "null", "null", "3233", "8331", "null", "null", "-7444", "-7743", "null", "null", "7833", "-7321", "null", "null", "9428", "-5870", "null", "null", "2763", "-6323", "null", "null", "9568", "7676", "null", "null", "-4178", "-3639", "null", "null", "7706", "-9109", "null", "null", "9575", "-5749", "null", "null", "4036", "248", "null", "null", "3981", "8691", "null", "null", "616", "-1883", "null", "null", "6033", "-328", "null", "null", "-4608", "-1406", "null", "null", "-9306", "9759", "null", "null", "-1634", "-738", "null", "null", "5481", "9581", "null", "null", "7507", "4971", "null", "null", "-3082", "-525", "null", "null", "-3112", "-7319"}
	root = common.ConstructTree(t)
	sum = -42
	fmt.Println(pathSum(root, sum))
}
